<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Idéale Peinture - Nouveaux Produits</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
  
 <style>
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');

    body {
      font-family: 'Inter', 'Helvetica Neue', Arial, sans-serif;
      background-color: #f9fafb;
      color: #1f2937;
    }

    .modal-overlay {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.6);
      z-index: 1000;
      align-items: center;
      justify-content: center;
      padding: 1rem;
    }

    .modal-content {
      background: white;
      border-radius: 1rem;
      padding: 1.5rem;
      max-width: 500px;
      width: 100%;
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2);
      position: relative;
      max-height: 85vh;
      overflow-y: auto;
    }

    @media (min-width: 640px) {
      .modal-content {
        padding: 2rem;
        max-height: 90vh;
      }
    }

    .modal-close {
      position: absolute;
      top: 0.75rem;
      right: 0.75rem;
      background: none;
      border: none;
      font-size: 1.75rem;
      cursor: pointer;
      color: #6b7280;
      z-index: 10;
      width: 40px;
      height: 40px;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .modal-close:hover {
      color: #374151;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }

    #chat-window {
      animation: fadeIn 0.3s ease-out;
    }

    #chat-messages::-webkit-scrollbar {
      width: 6px;
    }

    #chat-messages::-webkit-scrollbar-track {
      background: #f1f1f1;
      border-radius: 10px;
    }

    #chat-messages::-webkit-scrollbar-thumb {
      background: #c1c1c1;
      border-radius: 10px;
    }

    #chat-messages::-webkit-scrollbar-thumb:hover {
      background: #a8a8a8;
    }

    /* Responsivité améliorée */
    @media (max-width: 768px) {
      h1 {
        font-size: 1.75rem !important;
      }
      
      h2 {
        font-size: 1.5rem !important;
      }
      
      h3 {
        font-size: 1.25rem !important;
      }

      .container {
        padding-left: 1rem;
        padding-right: 1rem;
      }
    }
  </style>
</head>

<body class="font-sans antialiased text-gray-800">

<!-- HEADER -->
<header class="backdrop-blur-md bg-yellow-300/70 shadow-lg sticky top-0 z-50 border-b border-white/20">
  <div class="container mx-auto px-4">
    <div class="flex items-center justify-between md:justify-center py-4">
      <div class="flex items-center">
        <a href="index.html">
          <img src="images/logo.png" alt="Idéale Peinture" class="h-12 w-auto hover:scale-105 transition-transform duration-200">
        </a>
      </div>

      <nav class="hidden md:flex items-center space-x-2 bg-white/70 rounded-full px-4 py-2 shadow-md">
        <a href="index.html" class="px-4 py-2 font-semibold text-gray-700 hover:text-[#e3342f] rounded-full hover:bg-yellow-100 transition">Accueil</a>
        <a href="#nos-categories" class="px-4 py-2 font-semibold text-gray-700 hover:text-[#e3342f] rounded-full hover:bg-yellow-100 transition">Nos peintures</a>
        <a href="#nos-realisations" class="px-4 py-2 font-semibold text-gray-700 hover:text-[#e3342f] rounded-full hover:bg-yellow-100 transition">Réalisations</a>
        <a href="#a-propos" class="px-4 py-2 font-semibold text-gray-700 hover:text-[#e3342f] rounded-full hover:bg-yellow-100 transition">À propos</a>
        <a href="inspiration.html" class="px-4 py-2 font-semibold text-gray-700 hover:text-[#e3342f] rounded-full hover:bg-yellow-100 transition">Blogs & inspiration</a>
        <a href="contact.html" class="px-4 py-2 font-semibold text-gray-700 hover:text-[#e3342f] rounded-full hover:bg-yellow-100 transition">Contact</a>
        <a href="devenir distributeur.html" class="ml-2 px-4 py-2 bg-[#FFD700] text-[#e3342f] font-bold rounded-full shadow hover:bg-[#e3342f] hover:text-white transition">Devenir distributeur</a>
      </nav>

      <button id="mobile-menu-button" class="md:hidden text-[#e3342f] bg-white rounded-full p-2 shadow hover:bg-yellow-100 transition">
        <i class="fas fa-bars text-2xl"></i>
      </button>
    </div>

    <div id="mobile-menu" class="hidden md:hidden bg-white/90 rounded-xl shadow-lg mt-2 p-4">
      <a href="index.html" class="block px-4 py-2 font-semibold text-gray-700 hover:text-[#e3342f] hover:bg-yellow-100 rounded-full transition">Accueil</a>
      <a href="#nos-categories" class="block px-4 py-2 font-semibold text-gray-700 hover:text-[#e3342f] hover:bg-yellow-100 rounded-full transition">Nos peintures</a>
      <a href="#nos-realisations" class="block px-4 py-2 font-semibold text-gray-700 hover:text-[#e3342f] hover:bg-yellow-100 rounded-full transition">Réalisations</a>
      <a href="#a-propos" class="block px-4 py-2 font-semibold text-gray-700 hover:text-[#e3342f] hover:bg-yellow-100 rounded-full transition">À propos</a>
      <a href="inspiration.html" class="block px-4 py-2 font-semibold text-gray-700 hover:text-[#e3342f] hover:bg-yellow-100 rounded-full transition">Blogs & inspiration</a>
      <a href="contact.html" class="block px-4 py-2 font-semibold text-gray-700 hover:text-[#e3342f] hover:bg-yellow-100 rounded-full transition">Contact</a>
      <a href="devenir distributeur.html" class="block px-4 py-2 font-bold bg-[#FFD700] text-[#e3342f] mt-2 shadow hover:bg-[#e3342f] hover:text-white rounded-full transition">Devenir distributeur</a>
    </div>
  </div>
</header>

<!-- Bannière -->
<section>
  <img src="images/barnière peinture copie.jpg" alt="Peinture Idéale" class="w-full h-auto">
</section>

<!-- Boutons sous la bannière -->
<div class="text-center py-10">
  <div class="flex flex-col sm:flex-row gap-4 justify-center">
    <a href="index.html#nos-categories" class="bg-[#FFD700] text-[#e3342f] font-bold px-8 py-3 rounded-full shadow-lg hover:bg-[#e3342f] hover:text-white transition duration-300">
      Nos produits
    </a>
    <a href="contact.html#devis" class="bg-white text-[#e3342f] font-bold px-8 py-3 rounded-full shadow-lg hover:bg-[#FFD700] hover:text-white transition duration-300">
      Demander un devis
    </a>
  </div>
</div>

<!-- Header Promotions -->
<header class="bg-gradient-to-r from-blue-600 to-blue-800 text-white py-8">
  <div class="container mx-auto px-4 text-center">
    <h1 class="text-4xl font-bold mb-2">Nos nouveaux produits</h1>
    <p class="text-xl opacity-90">Profitez de nos offres limitées sur ces nouveaux produits</p>
  </div>
</header>

<!-- Promotions Section -->
<section class="py-12 bg-gray-50">
  <div class="container mx-auto px-4">
    <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
      
      <!-- Promotion 1 -->
      <div class="bg-white rounded-lg shadow-md overflow-hidden transition-transform duration-300 hover:shadow-xl hover:scale-105">
        <div class="relative">
          <img 
            src="images/Generated Image September 16, 2025 - 7_45PM.png" 
            alt="Peinture intérieure anti-rouille" 
            class="w-full h-48 object-cover"
            loading="lazy"
          >
        </div>
        <div class="p-6">
          <h3 class="text-xl font-bold mb-2">Peinture intérieure anti-rouille</h3>
          <p class="text-gray-600 mb-4">Ultra couvrante, sans odeur et écologique.</p>
          <div class="flex items-center justify-between">
            <button 
              data-product="Peinture intérieure anti-rouille"
              class="order-button bg-blue-600 text-white px-4 py-2 text-sm rounded-lg hover:bg-blue-700 transition duration-300 font-medium"
            >
              <i class="fas fa-shopping-cart mr-1"></i>
              Commander
            </button>
          </div>
        </div>
      </div>

      <!-- Promotion 2 -->
      <div class="bg-white rounded-lg shadow-md overflow-hidden transition-transform duration-300 hover:shadow-xl hover:scale-105">
        <div class="relative">
          <img 
            src="images/Generated Image October 06, 2025 - 12_13AM.png" 
            alt="Vernis de protection extérieur" 
            class="w-full h-48 object-cover"
            loading="lazy"
          >
        </div>
        <div class="p-6">
          <h3 class="text-xl font-bold mb-2">Vernis</h3>
          <p class="text-gray-600 mb-4">Résistant aux intempéries et aux UV.</p>
          <div class="flex items-center justify-between">
            <button 
              data-product="Vernis extérieur"
              class="order-button bg-blue-600 text-white px-4 py-2 text-sm rounded-lg hover:bg-blue-700 transition duration-300 font-medium"
            >
              <i class="fas fa-shopping-cart mr-1"></i>
              Commander
            </button>
          </div>
        </div>
      </div>

      <!-- Promotion 3 -->
      <div class="bg-white rounded-lg shadow-md overflow-hidden transition-transform duration-300 hover:shadow-xl hover:scale-105">
        <div class="relative">
          <img 
            src="images/Generated Image September 16, 2025 - 8_13PM.png" 
            alt="Pack rénovation complète pour vos travaux" 
            class="w-full h-48 object-cover"
            loading="lazy"
          >
        </div>
        <div class="p-6">
          <h3 class="text-xl font-bold mb-2"> rénovation complète</h3>
          <p class="text-gray-600 mb-4">Tout ce dont vous avez besoin pour vos travaux.</p>
          <div class="flex items-center justify-between">
            <button 
              data-product="Pack rénovation complète"
              class="order-button bg-blue-600 text-white px-4 py-2 text-sm rounded-lg hover:bg-blue-700 transition duration-300 font-medium"
            >
              <i class="fas fa-shopping-cart mr-1"></i>
              Commander
            </button>
          </div>
        </div>
      </div>

    </div>
  </div>
</section>

<!-- Modale de commande simplifiée (formulaire uniquement) -->
<div id="orderModal" class="modal-overlay">
  <div class="modal-content">
    <button class="modal-close" id="closeModal">&times;</button>
    
    <div class="text-center mb-6">
      <div class="w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4">
        <i class="fas fa-shopping-cart text-blue-600 text-2xl"></i>
      </div>
      <h2 class="text-2xl font-bold mb-2">Commander ce produit</h2>
      <p class="text-gray-600" id="productInfo">Choisissez votre méthode de commande :</p>
    </div>
    
    <div class="space-y-4 mb-6">
      <div>
        <label for="orderMethod" class="block text-sm font-medium text-gray-700 mb-2">Méthode de commande *</label>
        <select id="orderMethod" name="orderMethod" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-200">
          <option value="email">Email (Formulaire)</option>
          <option value="whatsapp">WhatsApp</option>
        </select>
      </div>
    </div>
    
    <form id="orderForm" action="https://getform.io/f/arogmwwb" method="POST">
      <input type="hidden" id="productName" name="product" value="">
      <input type="hidden" name="type" value="Commande Promotion">
      
      <div id="emailForm" class="space-y-4">
        <!-- Formulaire Email -->
        <div>
          <label for="name" class="block text-sm font-medium text-gray-700 mb-2">Votre nom complet *</label>
          <input type="text" id="name" name="name" required 
                 class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-200" 
                 placeholder="Entrez votre nom complet">
        </div>
        
        <div>
          <label for="email" class="block text-sm font-medium text-gray-700 mb-2">Votre adresse email *</label>
          <input type="email" id="email" name="email" required 
                 class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-200" 
                 placeholder="exemple@gmail.com">
        </div>
        
        <div>
          <label for="phone" class="block text-sm font-medium text-gray-700 mb-2">Votre numéro de téléphone *</label>
          <input type="tel" id="phone" name="phone" required 
                 class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-200" 
                 placeholder="+228 XX XX XX XX">
        </div>
        
        <div>
          <label for="quantity" class="block text-sm font-medium text-gray-700 mb-2">Quantité souhaitée</label>
          <select id="quantity" name="quantity" 
                  class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-200">
            <option value="1">1 unité</option>
            <option value="2">2 unités</option>
            <option value="3">3 unités</option>
            <option value="4">4 unités</option>
            <option value="5+">5 unités ou plus</option>
          </select>
        </div>
        
        <div>
          <label for="message" class="block text-sm font-medium text-gray-700 mb-2">Message supplémentaire (optionnel)</label>
          <textarea id="message" name="message" rows="4" 
                    class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-200 resize-none" 
                    placeholder="Adresse de livraison, remarques..."></textarea>
        </div>
        
        <div class="pt-4">
          <button type="submit" id="submitButton" 
                  class="w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-4 px-6 rounded-lg transition duration-300 transform hover:scale-105 shadow-lg">
            <i class="fas fa-paper-plane mr-2"></i>
            Envoyer ma commande
          </button>
        </div>
      </div>

      <!-- WhatsApp Popup (Hidden by default) -->
      <div id="whatsappForm" class="hidden space-y-4">
        <!-- WhatsApp Choice -->
        <h3 class="text-lg font-semibold text-center">Choisissez un numéro WhatsApp</h3>
        <div class="flex justify-center space-x-4">
          <button onclick="redirectToWhatsapp('22890792752')" class="w-full bg-green-600 text-white py-3 rounded-lg hover:bg-green-700">
            +22890792752
          </button>
          <button onclick="redirectToWhatsapp('98723961')" class="w-full bg-green-600 text-white py-3 rounded-lg hover:bg-green-700">
            +22898723961
          </button>
        </div>
      </div>

      <div class="mt-4 p-4 bg-gray-50 rounded-lg">
        <p class="text-xs text-gray-600 text-center flex items-center justify-center">
          <i class="fas fa-shield-alt mr-2 text-green-600"></i>
          Vos informations sont sécurisées et ne seront jamais partagées.
        </p>
      </div>
    </form>
  </div>
</div>

<!-- JavaScript to handle popup and redirect -->
<script>
  // Handle form visibility based on selected order method
  const orderMethod = document.getElementById('orderMethod');
  const emailForm = document.getElementById('emailForm');
  const whatsappForm = document.getElementById('whatsappForm');
  
  orderMethod.addEventListener('change', function() {
    if (orderMethod.value === 'whatsapp') {
      emailForm.classList.add('hidden');
      whatsappForm.classList.remove('hidden');
    } else {
      whatsappForm.classList.add('hidden');
      emailForm.classList.remove('hidden');
    }
  });

  // Function to redirect to WhatsApp with the selected number
  function redirectToWhatsapp(number) {
    const message = encodeURIComponent("Bonjour ! Je vous contacte depuis votre site fictif.");
    window.open(`https://wa.me/${number}?text=${message}`, '_blank');
    document.getElementById('orderModal').classList.add('hidden'); // Close modal after redirect
  }
</script>

<!-- Section À propos -->
<section id="a-propos" class="py-10 text-center bg-white">
  <div class="container mx-auto px-6">
    <h1 class="text-4xl md:text-5xl font-extrabold text-gray-800 mb-12">
      Qui sommes  <span class="text-[#000000]">nous</span>
    </h1>
  </div>
</section>

<!-- Identity Section -->
<section class="py-20">
  <div class="container mx-auto px-6">
    <div class="flex flex-col lg:flex-row items-center">
      <div class="lg:w-1/2 mb-10 lg:mb-0 lg:pr-10" data-aos="fade-right">
        <h2 class="text-3xl md:text-4xl font-bold text-gray-800 mb-6">Notre identité</h2>
        <p class="text-lg text-gray-600 mb-8">Créée depuis 1998 au Togo, notre usine allie expérience, innovation et savoir-faire local dans la production de peintures de haute qualité.
Depuis plus de deux décennies, nous nous engageons avec excellence et passion à offrir des produits durables, esthétiques et fiables, conçus pour valoriser et protéger vos espaces.
Chez nous, chaque couleur reflète notre engagement, notre créativité et notre quête permanente d’innovation pour satisfaire pleinement nos clients.
.</p>
        <div class="flex space-x-4">
          <div class="bg-blue-100 p-4 rounded-lg">
            <i class="fas fa-award text-blue-600 text-3xl mb-2"></i>
            <h3 class="font-semibold text-blue-800">Excellence</h3>
          </div>
          <div class="bg-green-100 p-4 rounded-lg">
            <i class="fas fa-heart text-green-600 text-3xl mb-2"></i>
            <h3 class="font-semibold text-green-800">Engagement</h3>
          </div>
          <div class="bg-purple-100 p-4 rounded-lg">
            <i class="fas fa-bolt text-purple-600 text-3xl mb-2"></i>
            <h3 class="font-semibold text-purple-800">Innovation</h3>
          </div>
        </div>
      </div>
      <div class="lg:w-1/2" data-aos="fade-left">
        <img src="images/image drone (1).png" alt="Image de marque" class="rounded-xl shadow-2xl w-full h-auto object-cover">
      </div>
    </div>
  </div>
</section>



<!-- Products Section -->
<section class="py-20">
  <div class="container mx-auto px-6">
    <div class="flex flex-col lg:flex-row items-center">
      <div class="lg:w-1/2 mb-10 lg:mb-0 lg:pr-10" data-aos="fade-right">
        <h2 class="text-3xl md:text-4xl font-bold text-gray-800 mb-6">Nos produits</h2>
        <p class="text-lg text-gray-600 mb-8">Une gamme pensée pour séduire, performer et répondre aux besoins les plus exigeants.</p>
        <div class="space-y-4">
          <div class="flex items-start">
            <div class="bg-blue-100 p-2 rounded-full mr-4">
              <i class="fas fa-check-circle text-blue-600 text-xl"></i>
            </div>
            <p class="text-gray-700">Conception ergonomique et intuitive</p>
          </div>
          <div class="flex items-start">
            <div class="bg-blue-100 p-2 rounded-full mr-4">
              <i class="fas fa-check-circle text-blue-600 text-xl"></i>
            </div>
            <p class="text-gray-700">Matériaux haut de gamme et durables</p>
          </div>
          <div class="flex items-start">
            <div class="bg-blue-100 p-2 rounded-full mr-4">
              <i class="fas fa-check-circle text-blue-600 text-xl"></i>
            </div>
            <p class="text-gray-700">Technologies innovantes brevetées</p>
          </div>
        </div>
      </div>
      <div class="lg:w-1/2" data-aos="fade-left">
        <img src="images/Generated Image September 16, 2025 - 8_13PM.png" alt="Visuel des produits" class="rounded-xl shadow-2xl w-full h-auto object-cover">
      </div>
    </div>
  </div>
</section>

<!-- Factory Section -->
<section class="py-20 bg-gray-50">
  <div class="container mx-auto px-6">
    <div class="flex flex-col lg:flex-row items-center">
      <div class="lg:w-1/2 mb-10 lg:mb-0 lg:order-2 lg:pl-10" data-aos="fade-left">
        <h2 class="text-3xl md:text-4xl font-bold text-gray-800 mb-6">Notre usine</h2>
        <p class="text-lg text-gray-600 mb-8">Un site de production moderne, optimisé pour la qualité, la sécurité et l'innovation.</p>
        <div class="grid md:grid-cols-2 gap-6">
          <div class="bg-white p-6 rounded-lg shadow text-center">
            <i class="fas fa-shield-alt text-green-600 text-4xl mb-4"></i>
            <h3 class="font-bold text-lg mb-2">Normes de sécurité</h3>
            <p class="text-gray-600">Equipements de sécurité</p>
          </div>
          <div class="bg-white p-6 rounded-lg shadow text-center">
            <i class="fas fa-microchip text-blue-600 text-4xl mb-4"></i>
            <h3 class="font-bold text-lg mb-2">Technologie</h3>
            <p class="text-gray-600">Équipements automatisés</p>
          </div>
          <div class="bg-white p-6 rounded-lg shadow text-center">
            <i class="fas fa-leaf text-green-500 text-4xl mb-4"></i>
            <h3 class="font-bold text-lg mb-2">Durabilité</h3>
            <p class="text-gray-600">Processus écologiques</p>
          </div>
          <div class="bg-white p-6 rounded-lg shadow text-center">
            <i class="fas fa-chart-line text-purple-600 text-4xl mb-4"></i>
            <h3 class="font-bold text-lg mb-2">Capacité</h3>
            <p class="text-gray-600">50 000 unités/mois</p>
          </div>
        </div>
      </div>
      <div class="lg:w-1/2 lg:order-1" data-aos="fade-right">
        <img src="images/notre usine.png" alt="Notre usine moderne" class="rounded-xl shadow-2xl w-full h-auto object-cover">
      </div>
    </div>
  </div>
</section>


<!-- Services -->
<section class="py-12">
  <div class="container mx-auto px-4">
    <div class="text-center mb-12">
      <h2 class="text-3xl font-bold mb-4">Nos services</h2>
      <p class="text-gray-600 max-w-2xl mx-auto">Nous vous accompagnons à chaque étape de votre projet</p>
    </div>
    
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
      <div class="bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow">
        <div class="w-14 h-14 bg-blue-100 rounded-full flex items-center justify-center mb-4">
          <i class="fas fa-home text-blue-600 text-xl"></i>
        </div>
        <h3 class="text-xl font-bold mb-2">Devis</h3>
        <p class="text-gray-600 mb-4">Cliquez sur le bouton « Demandez un devis » en haut de la page et remplissez le formulaire pour recevoir votre estimation personnalisée, gratuitement et sans engagement.</p>
        
      </div>
      
      <div class="bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow">
        <div class="w-14 h-14 bg-blue-100 rounded-full flex items-center justify-center mb-4">
          <i class="fas fa-truck text-blue-600 text-xl"></i>
        </div>
        <h3 class="text-xl font-bold mb-2">Livraison express</h3>
        <p class="text-gray-600 mb-4">Nous disposons de canaux de distribution fiables pour vous livrer rapidement après chaque achat, où que vous soyez.</p>
        
      </div>
      
      <div class="bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow">
        <div class="w-14 h-14 bg-blue-100 rounded-full flex items-center justify-center mb-4">
          <i class="fas fa-paint-roller text-blue-600 text-xl"></i>
        </div>
        <h3 class="text-xl font-bold mb-2">Application professionnelle</h3>
        <p class="text-gray-600 mb-4">Nos peintres qualifiés réalisent pour vous une mise en peinture parfaite, avec des finitions impeccables.</p>
        
      </div>
    </div>
  </div>
</section>
  <section id="nos-categories" class="py-12">
        <div class="container mx-auto px-4">
            <div class="text-center mb-12">
                <h2 class="text-3xl font-bold mb-4">Nos catégories de peintures</h2>
                <p class="text-gray-600 max-w-2xl mx-auto">Découvrez notre gamme complète adaptée à tous vos besoins</p>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <!-- Interior Paint -->
                <div class="paint-card bg-white rounded-lg shadow-md overflow-hidden transition-transform duration-300 hover:shadow-xl">
                    <img src="images/IDEALEPeintures Intérieures.png" alt="Peintures intérieures" class="w-full h-48 object-cover">
                    <div class="p-6">
                        <div class="flex items-center mb-4">
                            <div class="w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center mr-3">
                                <i class="fas fa-home text-blue-600"></i>
                            </div>
                            <h3 class="text-xl font-bold">Peintures Intérieures</h3>
                        </div>
                        <p class="text-gray-600 mb-4">Des finitions variées pour chaque pièce de votre maison, avec des produits respectueux de votre santé et de l'environnement.</p>
                        <ul class="space-y-2 mb-4">
                            <li class="flex items-center"><i class="fas fa-check text-green-500 mr-2"></i> Peintures mates</li>
                            <li class="flex items-center"><i class="fas fa-check text-green-500 mr-2"></i> Peintures satinées</li>
                            <li class="flex items-center"><i class="fas fa-check text-green-500 mr-2"></i> Peintures brillantes</li>
                            <li class="flex items-center"><i class="fas fa-check text-green-500 mr-2"></i> Peintures spéciales</li>
                        </ul>
                        <a href="intérieur.html" class="text-blue-600 font-medium hover:underline flex items-center">
                            Voir plus <i class="fas fa-arrow-right ml-2"></i>
                        </a>
                    </div>
                </div>
                
                <!-- Exterior Paint -->
                <div class="paint-card bg-white rounded-lg shadow-md overflow-hidden transition-transform duration-300 hover:shadow-xl">
                    <img src="images/IDEALEPeintures Exterieures.png" alt="Peintures extérieures" class="w-full h-48 object-cover">
                    <div class="p-6">
                        <div class="flex items-center mb-4">
                            <div class="w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center mr-3">
                                <i class="fas fa-building text-blue-600"></i>
                            </div>
                            <h3 class="text-xl font-bold">Peintures Extérieures</h3>
                        </div>
                        <p class="text-gray-600 mb-4">Protégez et embellissez votre façade avec nos peintures résistantes aux intempéries et aux UV, garanties longue durée.</p>
                        <ul class="space-y-2 mb-4">
                            <li class="flex items-center"><i class="fas fa-check text-green-500 mr-2"></i> Peintures façade</li>
                            <li class="flex items-center"><i class="fas fa-check text-green-500 mr-2"></i> Peintures balcons/terrasses</li>
                            <li class="flex items-center"><i class="fas fa-check text-green-500 mr-2"></i> Peintures anti-humidité</li>
                            <li class="flex items-center"><i class="fas fa-check text-green-500 mr-2"></i> Peintures protection bois</li>
                        </ul>
                        <a href="extérieur.html" class="text-blue-600 font-medium hover:underline flex items-center">
                            Voir plus<i class="fas fa-arrow-right ml-2"></i>
                        </a>
                    </div>
                </div>
                
                <!-- Special Paint -->
                <div class="paint-card bg-white rounded-lg shadow-md overflow-hidden transition-transform duration-300 hover:shadow-xl">
                    <img src="images/idealepenture speciale.png" alt="Peintures spéciales" class="w-full h-48 object-cover">
                    <div class="p-6">
                        <div class="flex items-center mb-4">
                            <div class="w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center mr-3">
                                <i class="fas fa-star text-blue-600"></i>
                            </div>
                            <h3 class="text-xl font-bold">Peintures Spéciales</h3>
                        </div>
                        <p class="text-gray-600 mb-4">Des solutions innovantes pour des besoins spécifiques : écologiques, anti-feu, anti-bactériennes ou magnétiques.</p>
                        <ul class="space-y-2 mb-4">
                            <li class="flex items-center"><i class="fas fa-check text-green-500 mr-2"></i> Peintures écologiques</li>
                            <li class="flex items-center"><i class="fas fa-check text-green-500 mr-2"></i> Peintures anti-feu</li>
                            <li class="flex items-center"><i class="fas fa-check text-green-500 mr-2"></i> Peintures anti-bactériennes</li>
                            <li class="flex items-center"><i class="fas fa-check text-green-500 mr-2"></i> Peintures magnétiques</li>
                        </ul>
                        <a href="spéciale.html" class="text-blue-600 font-medium hover:underline flex items-center">
                            Voir plus<i class="fas fa-arrow-right ml-2"></i>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </section>

<!-- Réalisations -->
<section id="nos-realisations" class="py-12 bg-gray-50">
  <div class="container mx-auto px-4">
    <div class="text-center mb-12">
      <h2 class="text-3xl font-bold mb-4">Nos réalisations</h2>
      <p class="text-gray-600 max-w-2xl mx-auto">Découvrez des transformations spectaculaires réalisées par nos équipes</p>
    </div>
    
    <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
      <div class="bg-white rounded-xl shadow-xl overflow-hidden transform hover:scale-105 transition duration-300">
        <div class="before-after-container h-64 relative group">
          <img src="images/image12.jpg" alt="Avant" class="w-full h-full object-cover transition duration-500 group-hover:blur-sm group-hover:scale-105">
          <img src="images/image11.jpg" alt="Après" class="w-full h-full object-cover absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-500 transition-transform group-hover:scale-105 rounded-xl shadow-lg">
          <div class="slider-handle absolute left-1/2 top-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-[#FFD700] text-white rounded-full p-3 shadow-lg border-2 border-white flex items-center justify-center animate-bounce z-10">
            <i class="fas fa-arrows-alt-h text-xl"></i>
          </div>
          <span class="absolute top-4 left-4 bg-blue-600 text-white px-3 py-1 rounded-full text-xs font-bold shadow">Avant/Après</span>
        </div>
        <div class="p-6">
          <h3 class="text-xl font-extrabold mb-2 text-3xl flex items-center gap-2">
            <i class="fas fa-sync-alt"></i>
            Rénovation d'un salon
          </h3>
          <p class="text-gray-600 mb-4">Passage d'un <span class="font-semibold text-black">jaune passé</span> à un <span class="font-semibold text-gray-700">gris moderne</span> avec finition satinée.</p>
          <div class="flex justify-between items-center">
            <span class="text-sm text-gray-500 flex items-center gap-1"><i class="fas fa-map-marker-alt text-blue-600"></i> BAGUIDA</span>
          </div>
        </div>
      </div>

      <div class="bg-white rounded-xl shadow-xl overflow-hidden transform hover:scale-105 transition duration-300">
        <div class="before-after-container h-64 relative group">
          <img src="images/image13.jpg" alt="Avant" class="w-full h-full object-cover transition duration-500 group-hover:blur-sm group-hover:scale-105">
          <img src="images/image14.jpg" alt="Après" class="w-full h-full object-cover absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-500 transition-transform group-hover:scale-105 rounded-xl shadow-lg">
          <div class="slider-handle absolute left-1/2 top-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-[#FFD700] text-white rounded-full p-3 shadow-lg border-2 border-white flex items-center justify-center animate-bounce z-10">
            <i class="fas fa-arrows-alt-h text-xl"></i>
          </div>
          <span class="absolute top-4 left-4 bg-blue-600 text-white px-3 py-1 rounded-full text-xs font-bold shadow">Avant/Après</span>
        </div>
        <div class="p-6">
          <h3 class="text-xl font-extrabold mb-2 text-3xl flex items-center gap-2">
            <i class="fas fa-sync-alt"></i>
            Rafraîchissement de façade
          </h3>
          <p class="text-gray-600 mb-4">Application d'une <span class="font-semibold text-black">peinture extérieure spéciale</span> avec <span class="font-semibold text-black">traitement anti-mousse</span>.</p>
          <div class="flex justify-between items-center">
            <span class="text-sm text-gray-500 flex items-center gap-1"><i class="fas fa-map-marker-alt text-blue-600"></i> ADETIKOPE</span>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Testimonials -->
<section class="py-12 bg-gray-50">
  <div class="container mx-auto px-4">
    <div class="text-center mb-12">
      <h2 class="text-3xl font-bold mb-4">Ils nous font confiance</h2>
      <p class="text-gray-600 max-w-2xl mx-auto">
        Découvrez ce que nos clients disent de nos produits et services
      </p>
    </div>
    
    <!-- Grille des témoignages -->
    <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
      
      <!-- Témoignage 1 -->
      <div class="bg-white rounded-lg shadow-md p-6">
        <div class="flex items-center mb-4">
          <div class="w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mr-3">
            <i class="fas fa-user text-blue-600"></i>
          </div>
          <div>
            <h4 class="font-bold">Élodie et Marc</h4>
            <div class="flex text-yellow-400">
              <i class="fas fa-star"></i>
              <i class="fas fa-star"></i>
              <i class="fas fa-star"></i>
              <i class="fas fa-star"></i>
              <i class="fas fa-star-half-alt"></i>
            </div>
          </div>
        </div>
        <p class="text-gray-600 italic mb-4">
          "Nous avons fait appel à leurs peintres pour rénover notre appartement. Travail soigné, respect des délais et un résultat impeccable. Nous sommes ravis du service complet proposé."
        </p>
        <div class="text-sm text-gray-500">Projet : Rénovation complète</div>
      </div>

      <!-- Témoignage 2 -->
      <div class="bg-white rounded-lg shadow-md p-6">
        <div class="flex items-center mb-4">
          <div class="w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mr-3">
            <i class="fas fa-user text-blue-600"></i>
          </div>
          <div>
            <h4 class="font-bold">AKAKPO L.</h4>
            <div class="flex text-yellow-400">
              <i class="fas fa-star"></i>
              <i class="fas fa-star"></i>
              <i class="fas fa-star"></i>
              <i class="fas fa-star"></i>
              <i class="fas fa-star"></i>
            </div>
          </div>
        </div>
        <p class="text-gray-600 italic mb-4">
          "Le service de conseil couleur a été déterminant pour choisir la teinte parfaite de notre salon. Le professionnel est venu à domicile avec des échantillons et des propositions adaptées à notre luminosité."
        </p>
        <div class="text-sm text-gray-500">Projet : Salon</div>
      </div>

      <!-- Témoignage 3 -->
      <div class="bg-white rounded-lg shadow-md p-6">
        <div class="flex items-center mb-4">
          <div class="w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mr-3">
            <i class="fas fa-user text-blue-600"></i>
          </div>
          <div>
            <h4 class="font-bold">Marie D.</h4>
            <div class="flex text-yellow-400">
              <i class="fas fa-star"></i>
              <i class="fas fa-star"></i>
              <i class="fas fa-star"></i>
              <i class="fas fa-star"></i>
              <i class="fas fa-star"></i>
            </div>
          </div>
        </div>
        <p class="text-gray-600 italic mb-4">
          "J'ai utilisé la peinture écologique pour la chambre de mon bébé. Aucune odeur, un rendu magnifique et surtout l'esprit tranquille pour la santé de mon enfant. Je recommande vivement !"
        </p>
        <div class="text-sm text-gray-500">Projet : Chambre d'enfant</div>
      </div>

    </div>
  </div>
</section>

<!-- Call to Action -->
<section class="py-16 bg-gradient-to-r from-blue-600 to-blue-800 text-white">
  <div class="container mx-auto px-4 text-center">
    <h2 class="text-3xl font-bold mb-6">Prêt à transformer votre espace ?</h2>
    <p class="text-xl mb-8 max-w-3xl mx-auto">Que vous soyez particulier, professionnel ou que vous souhaitiez devenir distributeur, nous avons la solution qu'il vous faut.</p>
    <div class="flex flex-col sm:flex-row justify-center gap-4">
      <a href="contact.html" class="bg-white text-blue-600 px-8 py-3 rounded-full font-bold shadow-lg hover:bg-gray-100 hover:scale-105 transition-all duration-300">
        Nous contacter
      </a>
      <a href="devenir-distributeur.html" class="bg-transparent border-2 border-white px-8 py-3 rounded-full font-bold shadow-lg hover:bg-white hover:text-blue-600 hover:scale-105 transition-all duration-300">
        Devenir distributeur
      </a>
    </div>
  </div>
</section>

<!-- Footer -->
<footer class="bg-gray-900 text-white py-12">
    <div class="container mx-auto px-4">
        <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
            <div>
                <div class="flex items-center mb-4 gap-3">
                    <div class="w-14 h-14 bg-white border-4 border-[#FFD700] flex items-center justify-center rounded-full shadow-lg overflow-hidden">
                        <img src="images/logo.png" alt="Logo Idéale Peinture" class="w-full h-full object-cover rounded-full">
                    </div>
                    <span class="flex flex-row items-end leading-tight">
                        <span class="text-2xl font-extrabold text-white tracking-tight mr-2">Idéale</span>
                        <span class="text-lg font-bold text-[#e3342f] tracking-wide">Peinture</span>
                    </span>
                </div>
                <p class="text-gray-400 mb-6">Votre spécialiste en peintures intérieures et extérieures depuis 2019.</p>

                <div class="flex space-x-4">
                    <a href="https://web.facebook.com/profile.php?id=61550743929810" target="_blank" rel="noopener noreferrer" aria-label="Facebook Idéale Peinture" class="w-10 h-10 bg-blue-600 text-white rounded-full flex items-center justify-center text-xl transition-all duration-300 hover:bg-blue-700 hover:scale-110">
                        <i class="fab fa-facebook-f"></i>
                    </a>

                    <a href="#" onclick="showWhatsappPopup()" aria-label="WhatsApp" class="w-10 h-10 bg-green-600 text-white rounded-full flex items-center justify-center text-xl transition-all duration-300 hover:bg-green-700 hover:scale-110">
                        <i class="fab fa-whatsapp"></i>
                    </a>

                    <a href="https://www.tiktok.com/@ideale.peinture" target="_blank" rel="noopener noreferrer" aria-label="TikTok Idéale Peinture" class="w-10 h-10 bg-black text-white rounded-full flex items-center justify-center text-xl transition-all duration-300 hover:bg-gray-800 hover:scale-110">
                        <i class="fab fa-tiktok"></i>
                    </a>

                    <a href="https://www.instagram.com/idealepeinturetg/" target="_blank" rel="noopener noreferrer" aria-label="Instagram Idéale Peinture" class="w-10 h-10 text-white rounded-full flex items-center justify-center text-xl bg-gradient-to-r from-purple-500 via-pink-500 to-yellow-500 transition-all duration-300 hover:scale-110">
                        <i class="fab fa-instagram"></i>
                    </a>
                </div>
            </div>

            <div>
                <h3 class="text-lg font-bold mb-4">Nos produits</h3>
                <ul class="space-y-2">
                    <li><a href="intérieur.html" class="text-gray-400 hover:text-white">Peintures Intérieures</a></li>
                    <li><a href="extérieur.html" class="text-gray-400 hover:text-white">Peintures Extérieures</a></li>
                    <li><a href="spéciale.html" class="text-gray-400 hover:text-white">Peintures Spéciales</a></li>
                </ul>
            </div>

            <div>
                <h3 class="text-lg font-bold mb-4">Nos services</h3>
                <ul class="space-y-2">
                    <li><a href="#" class="text-gray-400 hover:text-white">Conseil couleur</a></li>
                    <li><a href="#" class="text-gray-400 hover:text-white">Devis</a></li>
                    <li><a href="#" class="text-gray-400 hover:text-white">Livraison</a></li>
                    <li><a href="#" class="text-gray-400 hover:text-white">Application pro</a></li>
                    <li><a href="#" class="text-gray-400 hover:text-white">Rénovation complète</a></li>
                    <li><a href="#" class="text-gray-400 hover:text-white">Service après-vente</a></li>
                </ul>
            </div>

            <div>
                <h3 class="text-lg font-bold mb-4">Informations</h3>
                <ul class="space-y-2">
                    <li><a href="#a-propos" class="text-gray-400 hover:text-white">À propos</a></li>
                    <li><a href="#nos-realisations" class="text-gray-400 hover:text-white">Nos réalisations</a></li>
                    <li><a href="inspiration.html" class="text-gray-400 hover:text-white">Conseils & inspiration</a></li>
                    <li><a href="devenir distributeur.html" class="text-gray-400 hover:text-white">Devenir distributeur</a></li>
                </ul>
            </div>
        </div>

        <div class="border-t border-gray-800 mt-12 pt-8 flex flex-col md:flex-row justify-between items-center">
            <p class="text-gray-400 mb-4 md:mb-0">© 2025 powered by ideale peinture. Tous droits réservés.</p>
            </div>
    </div>
</footer>

<div id="whatsapp-popup" class="fixed inset-0 bg-gray-800 bg-opacity-50 flex items-center justify-center hidden z-[100]">
    <div class="bg-white p-6 rounded-lg w-96">
        <h2 class="text-xl font-semibold mb-4 text-gray-800">Choisissez un numéro WhatsApp</h2>
        <ul>
            <li class="mb-4">
                <button onclick="redirectToWhatsapp('22890792752')" class="w-full bg-green-600 text-white p-3 rounded-lg hover:bg-green-700 transition">
                    +22890792752
                </button>
            </li>
            <li>
                <button onclick="redirectToWhatsapp('98723961')" class="w-full bg-green-600 text-white p-3 rounded-lg hover:bg-green-700 transition">
                    +22898723961
                </button>
            </li>
        </ul>
        <button onclick="closeWhatsappPopup()" class="mt-4 w-full bg-gray-500 text-white p-3 rounded-lg hover:bg-gray-600 transition">
            Fermer
        </button>
    </div>
</div>

<div class="fixed bottom-6 right-6 z-50">
    <button id="chat-button" class="w-16 h-16 bg-blue-600 text-white rounded-full flex items-center justify-center shadow-lg hover:bg-blue-700 transition">
        <i class="fas fa-comment-dots text-2xl"></i>
    </button>
    
    <div id="chat-window" class="hidden absolute bottom-20 right-0 w-80 bg-white rounded-lg shadow-xl overflow-hidden">
        <div class="bg-blue-600 text-white px-4 py-3 flex justify-between items-center">
            <h3 class="font-bold">Vos commentaires</h3>
            <button id="close-chat" class="text-white hover:text-gray-200">
                <i class="fas fa-times"></i>
            </button>
        </div>
        
        <div id="chat-messages" class="p-4 h-64 overflow-y-auto">
            <div class="mb-4">
                <div class="bg-blue-100 text-gray-800 rounded-lg p-3 max-w-xs">
                    <p>Bonjour ! Partagez votre expérience avec nos services ou posez-nous vos questions.</p>
                </div>
                <p class="text-xs text-gray-500 mt-1" id="welcome-time"></p>
            </div>
        </div>
        
        <div class="border-t p-4">
            <div class="flex">
                <input type="text" id="chat-input" placeholder="Tapez votre message..." class="flex-grow px-4 py-2 border rounded-l-md focus:outline-none">
                <button id="send-message" class="bg-blue-600 text-white px-4 py-2 rounded-r-md hover:bg-blue-700">
                    <i class="fas fa-paper-plane"></i>
                </button>
            </div>
            <p class="text-xs text-gray-500 mt-2 text-center">
                Vos commentaires nous aident à améliorer nos services
            </p>
        </div>
    </div>
</div>

<script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
<script>
// Menu mobile
document.getElementById('mobile-menu-button')?.addEventListener('click', function() { // Ajout de '?' pour éviter une erreur si le bouton n'existe pas
    document.getElementById('mobile-menu')?.classList.toggle('hidden'); // Ajout de '?'
});

// Navigation fluide
document.querySelectorAll('a[href^="#"]').forEach(anchor => {
    anchor.addEventListener('click', function (e) {
        e.preventDefault();
        const targetId = this.getAttribute('href');
        if (targetId === '#') return;
        const targetElement = document.querySelector(targetId);
        if (targetElement) {
            window.scrollTo({
                top: targetElement.offsetTop - 80,
                behavior: 'smooth'
            });
            const mobileMenu = document.getElementById('mobile-menu');
            if (mobileMenu && !mobileMenu.classList.contains('hidden')) { // Vérification ajoutée
                mobileMenu.classList.add('hidden');
            }
        }
    });
});

// Modale de commande (les fonctions restent inchangées car non incluses dans le HTML de la footer/chat)
const orderModal = document.getElementById('orderModal');
const closeModal = document.getElementById('closeModal');
const orderForm = document.getElementById('orderForm');
const productName = document.getElementById('productName');
const productInfo = document.getElementById('productInfo');
const submitButton = document.getElementById('submitButton');

let currentProduct = '';
let currentPrice = '';

document.querySelectorAll('.order-button').forEach(button => {
    button.addEventListener('click', () => {
        currentProduct = button.getAttribute('data-product');
        currentPrice = button.getAttribute('data-price') || '';
        showModal();
    });
});

function showModal() {
    if (orderModal) orderModal.style.display = 'flex';
    if (productName) productName.value = `${currentProduct} - ${currentPrice}`;
    if (productInfo) productInfo.textContent = `${currentProduct} - ${currentPrice}`;
    const nameField = document.getElementById('name');
    if (nameField) nameField.focus();
}

function closeModalFunc() {
    if (orderModal) orderModal.style.display = 'none';
    if (orderForm) orderForm.reset();
    if (submitButton) {
        submitButton.disabled = false;
        submitButton.innerHTML = '<i class="fas fa-paper-plane mr-2"></i>Envoyer ma commande';
    }
}

if (closeModal) closeModal.addEventListener('click', closeModalFunc);

if (orderModal) {
    orderModal.addEventListener('click', (e) => {
        if (e.target === orderModal) closeModalFunc();
    });
}

document.addEventListener('keydown', (e) => {
    if (e.key === 'Escape' && orderModal && orderModal.style.display === 'flex') {
        closeModalFunc();
    }
});

// Soumission du formulaire
if (orderForm) {
    orderForm.addEventListener('submit', async (e) => {
        e.preventDefault();
        if (submitButton) {
            submitButton.disabled = true;
            submitButton.innerHTML = '<i class="fas fa-spinner fa-spin mr-2"></i>Envoi en cours...';
        }

        try {
            const formData = new FormData(orderForm);
            const response = await fetch('https://getform.io/f/arogmwwb', {
                method: 'POST',
                body: formData
            });

            if (!response.ok) throw new Error('Erreur lors de l\'envoi');

            alert('✅ Commande envoyée avec succès !\n\nNous avons bien reçu votre commande.\nNotre équipe vous contactera sous 24 heures.');
            closeModalFunc();

        } catch (error) {
            console.error('Erreur lors de l\'envoi :', error);
            alert('Une erreur est survenue lors de l\'envoi de votre commande. Veuillez réessayer.');
            if (submitButton) {
                submitButton.disabled = false;
                submitButton.innerHTML = '<i class="fas fa-paper-plane mr-2"></i>Envoyer ma commande';
            }
        }
    });
}


// Validation en temps réel
const requiredFields = ['name', 'email', 'phone'];

function validateForm() {
    const isValid = requiredFields.every(id => {
        const field = document.getElementById(id);
        return field && field.value.trim() !== '';
    });
    if (submitButton) {
        submitButton.disabled = !isValid;
        submitButton.style.opacity = isValid ? '1' : '0.6';
    }
}

requiredFields.forEach(fieldId => {
    const field = document.getElementById(fieldId);
    if (field) {
        field.addEventListener('input', validateForm);
    }
});


// Configuration et fonctions de la popup WhatsApp (nettoyé des doublons)
const whatsappPopup = document.getElementById('whatsapp-popup');

function showWhatsappPopup() {
    if (whatsappPopup) whatsappPopup.classList.remove('hidden');
}

function closeWhatsappPopup() {
    if (whatsappPopup) whatsappPopup.classList.add('hidden');
}

function redirectToWhatsapp(number) {
    const message = encodeURIComponent("Bonjour ! Je vous contacte depuis votre site fictif.");
    window.open(`https://wa.me/${number}?text=${message}`, '_blank');
    closeWhatsappPopup(); // Close popup after redirect
}


// Configuration du chat
const chatButton = document.getElementById('chat-button');
const chatWindow = document.getElementById('chat-window');
const closeChat = document.getElementById('close-chat');
const chatMessages = document.getElementById('chat-messages');
const chatInput = document.getElementById('chat-input');
const sendMessageBtn = document.getElementById('send-message');
const welcomeTime = document.getElementById('welcome-time');

if (welcomeTime) {
    welcomeTime.textContent = new Date().toLocaleTimeString('fr-FR', {
        hour: '2-digit',
        minute: '2-digit'
    });
}

let chatHistory = JSON.parse(localStorage.getItem('idealePeintureChat')) || [];

function loadChatHistory() {
    if (!chatMessages) return;

    chatMessages.innerHTML = '';

    const welcomeMsg = document.createElement('div');
    welcomeMsg.className = 'mb-4';
    welcomeMsg.innerHTML = `
        <div class="bg-blue-100 text-gray-800 rounded-lg p-3 max-w-xs">
            <p>Bonjour ! Partagez votre expérience avec nos services ou posez-nous vos questions.</p>
        </div>
        <p class="text-xs text-gray-500 mt-1">${new Date().toLocaleTimeString('fr-FR', {
            hour: '2-digit',
            minute: '2-digit'
        })}</p>
    `;
    chatMessages.appendChild(welcomeMsg);

    chatHistory.forEach(msg => {
        addMessageToChat(msg.text, msg.sender, msg.timestamp, false);
    });

    chatMessages.scrollTop = chatMessages.scrollHeight;
}

function addMessageToChat(text, sender, timestamp, saveToStorage = true) {
    if (!chatMessages) return;

    const messageDiv = document.createElement('div');
    messageDiv.className = `mb-4 ${sender === 'user' ? 'text-right' : ''}`;

    const bubbleClass = sender === 'user'
        ? 'bg-blue-600 text-white rounded-lg p-3 max-w-xs ml-auto'
        : 'bg-gray-100 text-gray-800 rounded-lg p-3 max-w-xs';

    messageDiv.innerHTML = `
        <div class="${bubbleClass}">
            <p>${text}</p>
        </div>
        <p class="text-xs text-gray-500 mt-1 ${sender === 'user' ? 'text-right' : ''}">
            ${timestamp}
        </p>
    `;

    chatMessages.appendChild(messageDiv);
    chatMessages.scrollTop = chatMessages.scrollHeight;

    if (saveToStorage) {
        chatHistory.push({
            text: text,
            sender: sender,
            timestamp: timestamp
        });
        localStorage.setItem('idealePeintureChat', JSON.stringify(chatHistory));
    }
}

function sendUserMessage() {
    if (!chatInput) return;
    const message = chatInput.value.trim();

    if (message === '') return;

    const timestamp = new Date().toLocaleTimeString('fr-FR', {
        hour: '2-digit',
        minute: '2-digit'
    });

    addMessageToChat(message, 'user', timestamp);

    setTimeout(() => {
        const responses = [
            "Merci pour votre commentaire ! Nous prenons en compte chaque retour pour améliorer nos services.",
            "Votre avis est précieux pour nous. L'équipe Idéale Peinture vous remercie !",
            "Nous avons bien reçu votre message. Nos équipes en prendront connaissance rapidement.",
            "Merci de partager votre expérience. Nous travaillons continuellement à satisfaire nos clients.",
            "Votre feedback nous aide à progresser. Merci pour votre confiance !"
        ];

        const randomResponse = responses[Math.floor(Math.random() * responses.length)];
        const responseTimestamp = new Date().toLocaleTimeString('fr-FR', {
            hour: '2-digit',
            minute: '2-digit'
        });

        addMessageToChat(randomResponse, 'bot', responseTimestamp);
    }, 1000);

    sendCommentToEmail(message, timestamp);
    chatInput.value = '';
}

function sendCommentToEmail(message, timestamp) {
    const formData = new FormData();
    formData.append('name', 'Visiteur du site');
    formData.append('email', 'commentaire@idealepeinture.com');
    formData.append('subject', 'Nouveau commentaire sur le site');
    formData.append('message', `Commentaire reçu le ${new Date().toLocaleDateString('fr-FR')} à ${timestamp}:\n\n${message}`);

    fetch('https://getform.io/f/bwnykqga', {
        method: 'POST',
        body: formData,
        headers: {
            'Accept': 'application/json'
        }
    })
    .then(response => {
        if (response.ok) {
            console.log('Commentaire envoyé avec succès');
        } else {
            console.error('Erreur lors de l\'envoi du commentaire');
        }
    })
    .catch(error => {
        console.error('Erreur:', error);
    });
}

if (chatButton && chatWindow) {
    chatButton.addEventListener('click', function() {
        chatWindow.classList.toggle('hidden');
        loadChatHistory();
        if (!chatWindow.classList.contains('hidden') && chatInput) {
            chatInput.focus();
        }
    });
}

if (closeChat && chatWindow) {
    closeChat.addEventListener('click', function() {
        chatWindow.classList.add('hidden');
    });
}

if (sendMessageBtn) sendMessageBtn.addEventListener('click', sendUserMessage);

if (chatInput) {
    chatInput.addEventListener('keypress', function(e) {
        if (e.key === 'Enter') {
            sendUserMessage();
        }
    });
}

// Fermeture du chat en cliquant à l'extérieur
document.addEventListener('click', function(e) {
    if (chatWindow && chatButton && !chatWindow.contains(e.target) && !chatButton.contains(e.target)) {
        chatWindow.classList.add('hidden');
    }
});

// Animation du bouton de chat
setTimeout(() => {
    if (chatButton) {
        chatButton.classList.add('animate-bounce');
        setTimeout(() => {
            chatButton.classList.remove('animate-bounce');
        }, 2000);
    }
}, 3000);

// Initialiser AOS
if (typeof AOS !== 'undefined') {
    AOS.init({ duration: 800, easing: 'ease-in-out', once: true });
}
</script>

</body>
</html>
